$fz12: 12px;
$fz13: 13px;
$fz14: 14px;
$color-gray: #ccc;
$tab-color: #ececec;
$tab-hover-color: #c3c3c6;

$tip_color: #dfdfdf;
$dark_tip_color: #4e4e4e;

.monkey-jsonviewer {
  body {
    li::marker {
      content: "";
    }

    input:focus,
    select:focus,
    textarea:focus {
      outline: 0;
    }

    a:hover {
      text-decoration: underline;
    }
  }

  .hidden {
    display: none !important;
  }

  .jsonp {
    color: #93983a;
  }

  .layui-layer-tips {
    width: auto !important;
  }

  #jsoncrackEmbed {
    width: 100%;
    height: 100%;
    border: 0;
  }

  .tippy-box[data-theme~="layer"] {
    color: #fff;
    padding: 5px;
    font-size: $fz12;
    line-height: 20px;
    background-color: #2e59a7;

    .tippy-arrow {
      color: #2e59a7;
    }
  }

  .tippy-box[data-theme~="imagebox"] {
    background-color: #d9d9d9;

    .tippy-arrow {
      color: #d9d9d9;
    }
  }

  /** 移动端 START **/
  @media screen and (max-width: 640px) {
    .rightbox {
      right: 0 !important;

      .tools {
        display: none !important;
      }
    }
  }

  @media screen and (max-width: 400px) {
    .searchbox {
      display: none !important;
    }
  }
  /** 移动端 END **/

  .json-viewer-layout {
    top: 0;
    left: 0;
    z-index: 10;
    width: 100vw;
    height: 100vh;
    display: flex;
    position: fixed;
    flex-direction: column;

    /** 工具栏样式 START **/
    .panel {
      display: flex;
      line-height: 28px;
      flex-direction: column;
      background-color: $tab-color;
    }

    .tabs,
    .toolbar {
      display: flex;
      border-bottom: 1px solid $color-gray;

      > div {
        cursor: pointer;
        padding: 0 10px;
        font-size: $fz12;
        transition: background-color 0.2s ease;

        &:hover {
          background-color: #d4d4d4;
        }
      }
    }

    .tabs-item {
      border-top: 3px solid $tab-color;

      &:hover {
        border-top-color: $tab-hover-color;
      }

      &.active {
        color: #0060df;
        border-top-color: #0060df;
        background-color: #f1f1f1;
      }
    }

    .toolbar {
      line-height: 23px;

      .searchbox {
        padding: 0;
        display: flex;
        flex-grow: 1;

        input {
          flex-grow: 1;
          border: none;
          outline: none;
          font-size: $fz12;
          padding-left: 23px;
          border-left: 1.5px solid $color-gray;
          background-size: 12px;
          background-repeat: no-repeat;
          background-position: 7px center;
          background-image: url(data:image/svg+xml;base64,PCEtLSBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljCiAgIC0gTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcwogICAtIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uIC0tPgo8c3ZnIGZpbGw9InJnYmEoMTM1LCAxMzUsIDEzNywgMC45KSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTIgMTIiPgogIDxwYXRoIGZpbGw9ImNvbnRleHQtZmlsbCIgb3BhY2l0eT0iLjQiIGQ9Ik01IDkuMmwyIDEuNlY2LjFMOC41NSA0aC01LjFMNSA2LjF2My4xeiIvPgogIDxwYXRoIGZpbGw9ImNvbnRleHQtZmlsbCIgZD0iTTEuMTggMi42QTEgMSAwIDAgMSAyIDFIMTBhMSAxIDAgMCAxIC44IDEuNkw4IDYuNHY0LjgyYzAgLjYzLS43Mi45OC0xLjIyLjZsLTIuNS0xLjk5QS43NS43NSAwIDAgMSA0IDkuMjVWNi40MUwxLjE4IDIuNnpNMiAyTDUgNi4wOXYzLjA0bDIgMS41OVY2LjA5TDEwLjAxIDJIMnoiLz4KPC9zdmc+Cg==);
        }

        .clear {
          flex: 0 0 auto;
          align-self: center;
          margin: 0 4px;
          padding: 0;
          border: 0;
          width: 16px;
          height: 16px;
          background-color: transparent;
          background-image: url(data:image/svg+xml;base64,PCEtLSBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljCiAgIC0gTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcwogICAtIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uIC0tPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIGZpbGw9ImNvbnRleHQtZmlsbCIgZmlsbC1vcGFjaXR5PSJjb250ZXh0LWZpbGwtb3BhY2l0eSI+CiAgPHBhdGggZD0iTTYuNTg2IDhsLTIuMjkzIDIuMjkzYTEgMSAwIDAgMCAxLjQxNCAxLjQxNEw4IDkuNDE0bDIuMjkzIDIuMjkzYTEgMSAwIDAgMCAxLjQxNC0xLjQxNEw5LjQxNCA4bDIuMjkzLTIuMjkzYTEgMSAwIDEgMC0xLjQxNC0xLjQxNEw4IDYuNTg2IDUuNzA3IDQuMjkzYTEgMSAwIDAgMC0xLjQxNCAxLjQxNEw2LjU4NiA4ek04IDBhOCA4IDAgMSAxIDAgMTZBOCA4IDAgMCAxIDggMHoiLz4KPC9zdmc+Cg==);
        }
      }
    }
    /** 工具栏样式 END **/

    /** 右侧选项样式 START **/
    .rightbox {
      right: 200px;
      display: flex;
      font-size: $fz12;
      position: absolute;

      > div {
        padding: 0 5px;
        margin-top: 2px;

        span {
          cursor: pointer;
          display: inline;
          padding: 5px 10px;
          border-radius: 3px;
          transition: background-color 0.2s ease;

          &:hover {
            background-color: $color-gray;
          }

          &::after {
            content: "";
            width: 0;
            height: 0;
            right: -5px;
            position: relative;
            border-style: solid;
            display: inline-block;
            vertical-align: middle;
            border-width: 7px 5px 0 5px;
            border-color: #999 transparent transparent transparent;
            transform: rotate(0deg);
            transition: transform 0.3s ease;
          }

          &.active {
            &::after {
              transform: rotate(180deg);
            }
          }
        }

        ul {
          color: #333;
          cursor: pointer;
          text-align: center;
          border-radius: 3px;

          li {
            font-size: $fz12;
            padding: 5px 20px;
            background-color: $tip_color;
            transition: background-color 0.2s ease;

            &:hover {
              border-radius: 3px;
              background-color: $color-gray;
            }

            &.active::before {
              left: 15px;
              content: "√";
              display: inline;
              position: absolute;
            }
          }
        }

        .tippy-box {
          background-color: $tip_color !important;

          .tippy-content {
            padding: 5px;
          }

          .tippy-arrow {
            color: $tip_color !important;
          }
        }
      }
    }
    /** 右侧选项样式 END **/

    /** 容器样式 START **/
    .container {
      flex-grow: 1;
      overflow: auto;
      line-height: 1.4;
      font-size: 13.5px;
      font-family: monospace;

      > div {
        display: none;

        &.active {
          display: block;
        }
      }

      #formatBox {
        padding: 5px 8px;
      }

      #rawTextBox {
        font-size: $fz13;
        padding: 5px 8px;

        pre {
          display: block !important;
          overflow-wrap: break-word;
          white-space: pre-wrap;
        }
      }
    }
    /** 容器样式 END **/

    /** 脑图样式 START **/
    #mindBox {
      width: 100vw;
      height: calc(100vh - 57px);

      jmnode {
        display: flex;
        align-items: center;
        padding: 0 7px 0 22px;
        color: #475872 !important;
        box-shadow: none !important;
        background-color: transparent !important;

        &.root {
          padding: 0;
          color: transparent !important;
        }

        &::before {
          content: "";
          top: 50% !important;
          margin-top: 1px;
          position: absolute;
          border-radius: 50%;
          transform: translateY(-50%);
          background-color: rgba(129, 73, 191, 0.5);
        }

        &.root::before {
          left: 50%;
          width: 18px;
          height: 18px;
          transform: translate(-18px, -50%);
        }

        &:hover {
          text-shadow: 0px 0px 1px currentColor;
        }

        &:not(.root)::before {
          left: 0;
          width: 15px;
          height: 15px;
        }
      }

      jmexpander {
        margin-top: 1px;
        line-height: 9px;
      }

      .datatype {
        opacity: 0.6;
        font-size: $fz12;
        margin-top: 2px;
        padding-left: 5px;
      }
    }
    /** 脑图样式 END **/
  }

  /** HTTP 请求弹窗样式 START **/
  .httpRequest {
    padding: 30px 20px;
    width: 700px;

    > div {
      display: flex;
      height: 35px;
      margin-bottom: 20px;
    }

    input,
    select {
      border-radius: 0;
      padding-left: 10px;
      border: 1px solid $color-gray;
    }

    input {
      flex-grow: 1;

      &[name="url"],
      &:first-child {
        border-right: none;
      }
    }

    select {
      border-right: none;
    }

    button {
      cursor: pointer;
      padding: 0 15px;
      border: 1px solid $color-gray;

      &:active {
        background-color: #cfcfcf;
      }
    }
  }
  /** HTTP 请求弹窗样式 END **/

  /** 暗黑主题 START **/
  .dark-theme,
  .dark-plus-theme {
    $color: #464646;
    $color_333: #333333;
    $color_c4: #c4c4c4;
    $bd_color: #64b7ff;

    .json-viewer-layout {
      li,
      pre,
      td:first-child {
        color: $color-gray;
      }

      .panel {
        color: $color_c4;
        background-color: $color_333;

        > div {
          border-bottom-color: $color;
        }

        .tabs-item,
        .toolbar-item {
          &:hover {
            background-color: $color;
          }
        }

        .tabs-item {
          border-top-color: $color_333;

          &:hover {
            border-top-color: $tab-hover-color;
          }

          &.active {
            color: $color_c4;
            border-top-color: $bd_color;
            background-color: $color;
          }
        }
      }

      .searchbox {
        input {
          color: $color-gray;
          background-color: $color;
          border-left-color: $color_333;
        }

        .clear {
          filter: invert(0.8);
        }
      }

      .rightbox {
        > div span:hover {
          background-color: $color;
        }

        .tippy-box {
          background-color: $dark_tip_color !important;

          .tippy-arrow {
            color: $dark_tip_color !important;
          }

          li {
            background-color: $dark_tip_color !important;
            &:hover {
              background-color: $color !important;
            }
          }
        }
      }

      .jsonp {
        color: #f1d700;
      }

      jmnode {
        filter: brightness(2);
      }

      jmexpander {
        background-color: #dfdfdf;
      }
    }
  }
  /** 暗黑主题 END **/
}
